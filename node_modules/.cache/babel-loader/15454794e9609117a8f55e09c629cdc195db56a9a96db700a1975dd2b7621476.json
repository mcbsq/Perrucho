{"ast":null,"code":"var _jsxFileName = \"/Volumes/m/m/Work/WORK/Est\\xE9ticaDeMascotas/masc/src/contexts/AuthContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/contexts/AuthContext.jsx\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\n// 1. Crear el Contexto\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\n\n// 2. Custom Hook para facilitar el uso del Contexto\nexport const useAuth = () => {\n  _s();\n  return useContext(AuthContext);\n};\n\n// 3. Proveedor del Contexto (AuthProvider)\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  // Inicializa el estado 'user' leyendo de localStorage si existe\n  const [user, setUser] = useState(() => {\n    const storedUser = localStorage.getItem('currentUser');\n    return storedUser ? JSON.parse(storedUser) : null;\n  });\n\n  // Efecto para sincronizar el estado 'user' con localStorage\n  useEffect(() => {\n    if (user) {\n      localStorage.setItem('currentUser', JSON.stringify(user));\n    } else {\n      localStorage.removeItem('currentUser');\n    }\n  }, [user]);\n\n  // Función de Login (Simulada)\n  const login = (email, password) => {\n    // --- Lógica de Autenticación SIMULADA ---\n    // En una app real, aquí se haría una llamada a la API (fetch/axios)\n    if (email === \"test@mascotas.com\" && password === \"123456\") {\n      const fakeUser = {\n        id: 'u1',\n        name: 'Cliente Demo',\n        email\n      };\n      setUser(fakeUser);\n      return true;\n    }\n    return false;\n  };\n\n  // Función de Logout\n  const logout = () => {\n    setUser(null);\n  };\n\n  // Función de Registro (Simulada)\n  const register = (name, email, password) => {\n    // --- Lógica de Registro SIMULADA ---\n    console.log(`Registrando usuario: ${name}, ${email}`);\n\n    // Asumiendo éxito en el registro, logeamos al usuario\n    const fakeUser = {\n      id: `u${Date.now()}`,\n      name,\n      email\n    };\n    setUser(fakeUser);\n    return true;\n  };\n\n  // Objeto de valor del Contexto\n  const value = {\n    user,\n    isLoggedIn: !!user,\n    // Booleano: ¿Hay un usuario logeado?\n    login,\n    logout,\n    register\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n_s2(AuthProvider, \"DtUttIFOIBJMCZ7/C4ymsdu5jI0=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","AuthProvider","children","_s2","user","setUser","storedUser","localStorage","getItem","JSON","parse","setItem","stringify","removeItem","login","email","password","fakeUser","id","name","logout","register","console","log","Date","now","value","isLoggedIn","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Volumes/m/m/Work/WORK/EstéticaDeMascotas/masc/src/contexts/AuthContext.jsx"],"sourcesContent":["// src/contexts/AuthContext.jsx\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\n// 1. Crear el Contexto\nconst AuthContext = createContext();\n\n// 2. Custom Hook para facilitar el uso del Contexto\nexport const useAuth = () => {\n    return useContext(AuthContext);\n};\n\n// 3. Proveedor del Contexto (AuthProvider)\nexport const AuthProvider = ({ children }) => {\n    // Inicializa el estado 'user' leyendo de localStorage si existe\n    const [user, setUser] = useState(() => {\n        const storedUser = localStorage.getItem('currentUser');\n        return storedUser ? JSON.parse(storedUser) : null;\n    });\n\n    // Efecto para sincronizar el estado 'user' con localStorage\n    useEffect(() => {\n        if (user) {\n            localStorage.setItem('currentUser', JSON.stringify(user));\n        } else {\n            localStorage.removeItem('currentUser');\n        }\n    }, [user]);\n\n    // Función de Login (Simulada)\n    const login = (email, password) => {\n        // --- Lógica de Autenticación SIMULADA ---\n        // En una app real, aquí se haría una llamada a la API (fetch/axios)\n        if (email === \"test@mascotas.com\" && password === \"123456\") {\n            const fakeUser = { \n                id: 'u1', \n                name: 'Cliente Demo', \n                email \n            };\n            setUser(fakeUser);\n            return true;\n        }\n        return false;\n    };\n\n    // Función de Logout\n    const logout = () => {\n        setUser(null);\n    };\n\n    // Función de Registro (Simulada)\n    const register = (name, email, password) => {\n        // --- Lógica de Registro SIMULADA ---\n        console.log(`Registrando usuario: ${name}, ${email}`);\n        \n        // Asumiendo éxito en el registro, logeamos al usuario\n        const fakeUser = { \n            id: `u${Date.now()}`, \n            name, \n            email \n        };\n        setUser(fakeUser); \n        return true;\n    };\n\n    // Objeto de valor del Contexto\n    const value = {\n        user,\n        isLoggedIn: !!user, // Booleano: ¿Hay un usuario logeado?\n        login,\n        logout,\n        register\n    };\n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n    );\n};"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAE7E;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;;AAEnC;AACA,OAAO,MAAMO,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,OAAOP,UAAU,CAACK,WAAW,CAAC;AAClC,CAAC;;AAED;AAAAE,EAAA,CAJaD,OAAO;AAKpB,OAAO,MAAME,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC1C;EACA,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,MAAM;IACnC,MAAMY,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IACtD,OAAOF,UAAU,GAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,GAAG,IAAI;EACrD,CAAC,CAAC;;EAEF;EACAX,SAAS,CAAC,MAAM;IACZ,IAAIS,IAAI,EAAE;MACNG,YAAY,CAACI,OAAO,CAAC,aAAa,EAAEF,IAAI,CAACG,SAAS,CAACR,IAAI,CAAC,CAAC;IAC7D,CAAC,MAAM;MACHG,YAAY,CAACM,UAAU,CAAC,aAAa,CAAC;IAC1C;EACJ,CAAC,EAAE,CAACT,IAAI,CAAC,CAAC;;EAEV;EACA,MAAMU,KAAK,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK;IAC/B;IACA;IACA,IAAID,KAAK,KAAK,mBAAmB,IAAIC,QAAQ,KAAK,QAAQ,EAAE;MACxD,MAAMC,QAAQ,GAAG;QACbC,EAAE,EAAE,IAAI;QACRC,IAAI,EAAE,cAAc;QACpBJ;MACJ,CAAC;MACDV,OAAO,CAACY,QAAQ,CAAC;MACjB,OAAO,IAAI;IACf;IACA,OAAO,KAAK;EAChB,CAAC;;EAED;EACA,MAAMG,MAAM,GAAGA,CAAA,KAAM;IACjBf,OAAO,CAAC,IAAI,CAAC;EACjB,CAAC;;EAED;EACA,MAAMgB,QAAQ,GAAGA,CAACF,IAAI,EAAEJ,KAAK,EAAEC,QAAQ,KAAK;IACxC;IACAM,OAAO,CAACC,GAAG,CAAC,wBAAwBJ,IAAI,KAAKJ,KAAK,EAAE,CAAC;;IAErD;IACA,MAAME,QAAQ,GAAG;MACbC,EAAE,EAAE,IAAIM,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;MACpBN,IAAI;MACJJ;IACJ,CAAC;IACDV,OAAO,CAACY,QAAQ,CAAC;IACjB,OAAO,IAAI;EACf,CAAC;;EAED;EACA,MAAMS,KAAK,GAAG;IACVtB,IAAI;IACJuB,UAAU,EAAE,CAAC,CAACvB,IAAI;IAAE;IACpBU,KAAK;IACLM,MAAM;IACNC;EACJ,CAAC;EAED,oBACIxB,OAAA,CAACC,WAAW,CAAC8B,QAAQ;IAACF,KAAK,EAAEA,KAAM;IAAAxB,QAAA,EAC9BA;EAAQ;IAAA2B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE/B,CAAC;AAAC7B,GAAA,CAlEWF,YAAY;AAAAgC,EAAA,GAAZhC,YAAY;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}